<style>
/* Universal styling for buttons */
.toggle-button {
    display: inline-block;
    margin-bottom: 10px;
    padding: 8px 15px;
    font-size: 14px;
    font-weight: 500;
    color: #fff;
    background-color: #007bff; /* Primary blue color */
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}

/* Hover effect */
.toggle-button:hover {
    background-color: #0056b3; /* Darker blue */
    box-shadow: 3px 3px 7px rgba(0, 0, 0, 0.15);
}

/* Active button effect */
.toggle-button:active {
    transform: scale(0.98);
}

/* Ensure left alignment */
.toggle-container {
    text-align: left;
    margin-bottom: 15px;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
    let codeBlocks = document.querySelectorAll("pre");

    if (codeBlocks.length > 0) {
        // Create the universal toggle button
        let globalButton = document.createElement("button");
        globalButton.textContent = "Show/Hide All Code";
        globalButton.className = "toggle-button";

        // Place the button inside the main content container
        let mainContent = document.querySelector(".main-container, .content");
        if (mainContent) {
            let buttonContainer = document.createElement("div");
            buttonContainer.className = "toggle-container";
            buttonContainer.appendChild(globalButton);
            mainContent.insertBefore(buttonContainer, mainContent.firstChild);
        } else {
            document.body.insertBefore(globalButton, document.body.firstChild);
        }

        // Function to toggle all code blocks
        let allVisible = false;
        globalButton.onclick = function() {
            allVisible = !allVisible;
            codeBlocks.forEach(block => {
                block.style.display = allVisible ? "block" : "none";
            });
        };
    }

    // Add individual toggle buttons for each code block
    codeBlocks.forEach(function(block) {
        let button = document.createElement("button");
        button.textContent = "Show/Hide Code";
        button.className = "toggle-button";

        button.onclick = function() {
            block.style.display = block.style.display === "none" ? "block" : "none";
        };

        block.before(button);
        block.style.display = "none";  // Start hidden
    });
});
</script>